!function(){var t={options:{trigger:".oney-payment-choice",completeInfo:{modal:".oney-complete-info-popin",area:".ui.steps + .ui.grid"}},init:function(e){e.constructor!==Object&&(e={}),this.options=$.extend(this.options,e),t.toggleGateway(),"undefined"!=typeof completeInfoRoute&&t.modalAppear(),t.tabs(),$(window).on("resize",(function(){setTimeout(t.tabs,100)})),t.tabsHandler()},toggleGateway:function(){var t=this;$("#".concat($(this.options.trigger).data("payment-input-id"))).is(":checked")&&$(this.options.trigger).show(),$("input[id*=sylius_checkout_select_payment]").on("change",(function(){var e=$("label[for=".concat($(this).attr("id"),"]")).data("gateway");"oney"===e||"payplug"===e?$(t.options.trigger).slideDown():$(t.options.trigger).slideUp()}))},tabs:function(){window.innerWidth<=991?($(".oney-payment-choice__item").hide(),setTimeout((function(){$.each($(".oney-payment-choice__input"),(function(t,e){$(e).is(":checked")&&($(e).parent().show(),$("a.tablink[data-id=".concat($(e).val(),"]")).addClass("active"))}))}),1)):($(".oney-payment-choice__item").show(),$("a.tablink").removeClass("active"))},tabsHandler:function(){$.each($("a.tablink"),(function(t,e){$(e).click((function(t){$("a.tablink").removeClass("active"),$(this).addClass("active"),$(".oney-payment-choice__item").hide(),$("#".concat($(this).data("id"))).show(),$("input[value=".concat($(this).data("id"))).prop("checked",!0)}))}))},modalAppear:function(){var t=this,e=completeInfoRoute;$.get(e).then((function(e){$("body .pusher").append("<div class='overlay'></div>"),$(t.options.completeInfo.area).addClass("inactive"),$(t.options.completeInfo.area).parent().append(e),t.modalEvents()}))},modalFadeaway:function(){var t=this;$(this.options.completeInfo.modal).fadeOut(300,(function(){$(t.options.completeInfo.area).removeClass("inactive"),$(".overlay").hide()}))},modalSubmit:function(t){var e=this;t.preventDefault(),$(t.currentTarget).addClass("loading"),$.ajax({method:"post",url:completeInfoRoute,data:$(t.currentTarget).serialize(),success:function(t){Array.isArray(t)?($(e.options.completeInfo.modal+"__content").fadeOut((function(){$(e.options.completeInfo.modal+"__success").show()})),setTimeout((function(){e.modalFadeaway()}),2500)):$(e.options.completeInfo.modal).html(t),e.modalEvents()},error:function(t){console.log(t)}})},modalEvents:function(){var t=this;$(".close").on("click",(function(){t.modalFadeaway()})),$("form[name=form]").on("submit",(function(e){t.modalSubmit(e)}))}};document.addEventListener("DOMContentLoaded",t.init,!1),document.addEventListener("DOMContentLoaded",t.init({trigger:".payplug-payment-choice",completeInfo:{modal:".payplug-complete-info-popin"}}),!1)}();